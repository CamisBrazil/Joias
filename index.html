<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>By CamisBrazil - Semi Joias</title>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Poppins", sans-serif; }

        body { background: #fafafa; color: #111; line-height: 1.6; }

        /* Espaçamento extra para o conteúdo em mobile para não esconder atrás do menu de abas */
        @media (max-width: 768px) {
            body { padding-bottom: 60px; } 
        }

        /* ===== NAV SUPERIOR (Desktop/Tablet) ===== */
        nav { position: sticky; top: 0; background: #fff; border-bottom: 1px solid #ddd; z-index: 1000; }
        .nav-container { max-width: 1200px; margin: auto; padding: 0.8rem 1.5rem; display: flex; justify-content: space-between; align-items: center; }
        .logo-area { display: flex; align-items: center; gap: 1rem; } 
        .logo { font-family: 'Great Vibes', cursive; font-size: 2rem; background: linear-gradient(45deg, #d4af37, #f5d76e, #b8860b); -webkit-background-clip: text; -webkit-text-fill-color: transparent; white-space: nowrap; }
        
        /* Links superiores - Visível apenas em desktop */
        .links { display: flex; gap: 2rem; }
        .links a { color: #111; text-decoration: none; font-weight: 500; transition: color 0.3s; }
        .links a:hover { color: #d4af37; }
        
        .menu-toggle { display: none !important; } 
        
        /* Contador do Carrinho no Topo */
        .cart-count { 
            background: #d4af37; 
            color: #fff; 
            border-radius: 50%; 
            padding: 2px 8px; 
            font-size: 0.8rem; 
            font-weight: 700;
            line-height: 1.2;
            cursor: pointer;
            transition: background 0.3s;
            display: inline-block;
            min-width: 25px; 
            text-align: center;
        }
        .cart-count:hover {
            background: #b8860b;
        }

        /* ===== NAV MOBILE (Abas Fixas) ===== */
        .mobile-tabs {
            display: none; /* Esconde por padrão */
        }

        /* ===== PRODUTOS (Desktop) ===== */
        section.categoria { padding: 2rem 1rem; }
        section.categoria h2 { text-align: center; margin-bottom: 1.5rem; font-size: 2rem; color: #b8860b; }
        .produtos { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; }
        .produto { background: #fff; border-radius: 16px; overflow: hidden; text-align: center; padding-bottom: 1rem; box-shadow: 0 4px 15px rgba(0,0,0,0.1); transition: 0.3s; }
        .produto:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0,0,0,0.15); }
        .produto img { width: 100%; height: 220px; object-fit: cover; border-bottom: 2px solid #f5d76e; }
        .produto h3 { margin: 0.8rem 0 0.3rem; font-size: 1.2rem; }
        .produto p { font-size: 0.95rem; color: #444; }
        
        /* Estilos de Botões */
        .btn { display: inline-block; margin-top: 0.8rem; padding: 0.5rem 1rem; border: 1px solid #d4af37; color: #d4af37; text-decoration: none; border-radius: 6px; font-weight: 500; transition: 0.3s; background: none; cursor: pointer; }
        .btn:hover { background: #d4af37; color: #111; }
        .btn-whatsapp { background: #25D366; color: #fff; border: 1px solid #25D366; }
        .btn-whatsapp:hover { background: #128C7E; border: 1px solid #128C7E; color: #fff; }
        #modal-add-carrinho { background: #b8860b; color: #fff; border: 1px solid #b8860b; }
        #modal-add-carrinho:hover { background: #d4af37; color: #111; }

        /* Estilos de Modais e Conteúdo Geral */
        header { text-align: center; padding: 2.5rem 1rem; background: #f1f1f1; }
        header h1 { font-family: 'Great Vibes', cursive; font-size: 3rem; background: linear-gradient(45deg, #d4af37, #f5d76e, #b8860b); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        header p { margin-top: 0.5rem; color: #444; }
        .hero { padding: 2rem; text-align: center; }
        .hero h2 { color: #b8860b; font-size: 2rem; margin-bottom: 1rem; }
        .hero p { max-width: 600px; margin: auto; font-size: 1rem; color: #333; }
        .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: flex; align-items: center; justify-content: center; opacity: 0; visibility: hidden; transition: 0.3s; padding: 1rem; }
        .modal.open { opacity: 1; visibility: visible; }
        .modal-content { background: #fff; padding: 1rem; border-radius: 12px; max-width: 450px; width: 100%; text-align: center; position: relative; }
        .modal img { max-width: 100%; border-radius: 8px; margin-bottom: 1rem; }
        .modal h3 { margin-bottom: 0.5rem; font-size: 1.4rem; color: #b8860b; }
        .modal p { font-size: 1rem; color: #333; }
        .modal-buttons { margin-top: 1rem; display: flex; justify-content: center; gap: 10px; } 
        .close-btn { position: absolute; top: 10px; right: 15px; font-size: 1.8rem; cursor: pointer; color: #333; }
        #carrinho-items { text-align: left; margin-top: 1rem; max-height: 300px; overflow-y: auto; border-top: 1px solid #eee; padding-top: 10px;}
        .carrinho-item { display: flex; justify-content: space-between; padding: 5px 0; border-bottom: 1px dotted #ccc; font-size: 0.9rem; }
        .carrinho-item span { color: #555; }
        #carrinho-total { font-weight: 700; font-size: 1.1rem; margin-top: 10px; text-align: right; color: #b8860b; }
        .contato { text-align: center; padding: 2rem; background: #f9f9f9; }
        .contato h2 { color: #b8860b; margin-bottom: 1rem; }
        .contato p { color: #444; font-size: 1rem; }
        .contato a { color: #b8860b; text-decoration: none; }
        footer { text-align: center; padding: 1rem; font-size: 0.9rem; color: #666; background: #eee; border-top: 1px solid #ccc; }

        /* ===== RESPONSIVO (MOBILE) ===== */
        @media (max-width: 768px) {
            
            /* Correção do Padding de Conteúdo para Dar Mais Espaço */
            section.categoria { padding: 1rem 0.5rem; } /* Reduz o padding para a lateral em mobile */

            /* Esconde links superiores em mobile */
            .links {
                display: none;
            }
            
            /* Mostra menu de abas fixo */
            .mobile-tabs {
                display: flex;
                position: fixed;
                bottom: 0;
                left: 0;
                width: 100%;
                height: 55px;
                background: #fff;
                border-top: 1px solid #ddd;
                z-index: 1010; 
                justify-content: space-around;
                align-items: center;
                box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
            }
            .mobile-tabs a {
                display: flex;
                flex-direction: column;
                align-items: center;
                text-decoration: none;
                color: #666;
                font-size: 0.7rem;
                font-weight: 500;
                transition: color 0.3s;
                padding: 5px;
            }
            .mobile-tabs a:hover, .mobile-tabs a.active {
                color: #d4af37;
            }
            .mobile-tabs .material-icons {
                font-size: 24px;
                margin-bottom: 2px;
            }

            /* Estilo de Grid 2x para mobile */
            .produtos {
                grid-template-columns: repeat(2, 1fr); 
                gap: 0.8rem; 
            }
            .produto {
                padding-bottom: 0.5rem; 
            }
            .produto img { height: 150px; }
            .produto h3 { font-size: 1rem; }
            .produto p { font-size: 0.8rem; }
            .btn { padding: 0.4rem 0.6rem; font-size: 0.8rem; }
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-container">
            <div class="logo-area">
                <span class="logo">CamisBrazil</span>
                <span class="cart-count" id="cart-count">0</span>
            </div>
            <div class="links" id="menu">
                <a href="#aneis">Anéis</a>
                <a href="#brincos">Brincos</a>
                <a href="#colares">Colares</a>
                <a href="#pulseiras">Pulseiras</a>
                <a href="#contato">Contato</a>
            </div>
        </div>
    </nav>

    <header id="home">
        <h1>By CamisBrazil</h1>
        <p>Semi Joias Elegantes e Modernas</p>
    </header>

    <section class="hero">
        <h2>Realce sua Beleza com Elegância</h2>
        <p>Conheça nossas coleções de semi joias exclusivas, perfeitas para cada ocasião. Qualidade, estilo e sofisticação em cada detalhe.</p>
    </section>

    <section id="aneis" class="categoria">
        <h2>Anéis</h2>
        <div class="produtos">
            <div class="produto" data-nome="Anel Vivara V" data-cod="92272316" data-preco="149.90" data-img="https://i.imgur.com/uAWlwn1.png">
                <img src="https://i.imgur.com/uAWlwn1.png" alt="Anel Vivara V">
                <h3>Anel Vivara V</h3>
                <p>Cod: 92272316 | R$ 149,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Anel Vega" data-cod="12743445" data-preco="89.00" data-img="https://i.imgur.com/Y5gFznY.png">
                <img src="https://i.imgur.com/Y5gFznY.png" alt="Anel Vega">
                <h3>Anel Vega</h3>
                <p>Cod: 12743445 | R$ 89,00</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Anel Três Fileiras" data-cod="91239327" data-preco="94.90" data-img="https://i.imgur.com/iJ0VyBz.png">
                <img src="https://i.imgur.com/iJ0VyBz.png" alt="Anel Três Fileiras">
                <h3>Anel Três Fileiras</h3>
                <p>Cod: 91239327 | R$ 94,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Anel Toque de Amor" data-cod="14116544" data-preco="79.00" data-img="https://i.imgur.com/3oTzD82.png">
                <img src="https://i.imgur.com/3oTzD82.png" alt="Anel Toque de Amor">
                <h3>Anel Toque de Amor</h3>
                <p>Cod: 14116544 | R$ 79,00</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Anel Rubi" data-cod="19696379" data-preco="99.90" data-img="https://i.imgur.com/I2pXqEj.png">
                <img src="https://i.imgur.com/I2pXqEj.png" alt="Anel Rubi">
                <h3>Anel Rubi</h3>
                <p>Cod: 19696379 | R$ 99,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Anel Mini Coração" data-cod="19264891" data-preco="119.90" data-img="https://i.imgur.com/NeZsgXT.png">
                <img src="https://i.imgur.com/NeZsgXT.png" alt="Anel Mini Coração">
                <h3>Anel Mini Coração</h3>
                <p>Cod: 19264891 | R$ 119,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Anel Maya" data-cod="6577022" data-preco="89.00" data-img="https://i.imgur.com/JVH56Rl.png">
                <img src="https://i.imgur.com/JVH56Rl.png" alt="Anel Maya">
                <h3>Anel Maya</h3>
                <p>Cod: 6577022 | R$ 89,00</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Anel Libra" data-cod="5654016" data-preco="79.00" data-img="https://i.imgur.com/P6UeGCc.png">
                <img src="https://i.imgur.com/P6UeGCc.png" alt="Anel Libra">
                <h3>Anel Libra</h3>
                <p>Cod: 5654016 | R$ 79,00</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Anel Ipanema" data-cod="54793699" data-preco="119.90" data-img="https://i.imgur.com/hdDRrmj.png">
                <img src="https://i.imgur.com/hdDRrmj.png" alt="Anel Ipanema">
                <h3>Anel Ipanema</h3>
                <p>Cod: 54793699 | R$ 119,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Anel Icona" data-cod="89103623" data-preco="139.90" data-img="https://i.imgur.com/puugtHW.png">
                <img src="https://i.imgur.com/puugtHW.png" alt="Anel Icona">
                <h3>Anel Icona</h3>
                <p>Cod: 89103623 | R$ 139,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Anel Heloisa" data-cod="79192064" data-preco="69.90" data-img="https://i.imgur.com/kHpRDNv.png">
                <img src="https://i.imgur.com/kHpRDNv.png" alt="Anel Heloisa">
                <h3>Anel Heloisa</h3>
                <p>Cod: 79192064 | R$ 69,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Anel Elisa" data-cod="437295517" data-preco="59.00" data-img="https://i.imgur.com/aaed5vR.png">
                <img src="https://i.imgur.com/aaed5vR.png" alt="Anel Elisa">
                <h3>Anel Elisa</h3>
                <p>Cod: 437295517 | R$ 59,00</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Anel Celeste" data-cod="78803824" data-preco="79.00" data-img="https://i.imgur.com/SHDStYV.png">
                <img src="https://i.imgur.com/SHDStYV.png" alt="Anel Celeste">
                <h3>Anel Celeste</h3>
                <p>Cod: 78803824 | R$ 79,00</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Anel Cartier" data-cod="37373740" data-preco="124.00" data-img="https://i.imgur.com/yTvKWKG.png">
                <img src="https://i.imgur.com/yTvKWKG.png" alt="Anel Cartier">
                <h3>Anel Cartier</h3>
                <p>Cod: 37373740 | R$ 124,00</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Anel Amuleto" data-cod="75082604" data-preco="75.00" data-img="https://i.imgur.com/Oorxm6L.png">
                <img src="https://i.imgur.com/Oorxm6L.png" alt="Anel Amuleto">
                <h3>Anel Amuleto</h3>
                <p>Cod: 75082604 | R$ 75,00</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            
            </div>
    </section>

    <section id="brincos" class="categoria">
        <h2>Brincos</h2>
        <div class="produtos">
            <div class="produto" data-nome="Brinco Luxo" data-cod="B001" data-preco="89.90" data-img="https://picsum.photos/400/300?random=6">
                <img src="https://picsum.photos/400/300?random=6" alt="Brinco Luxo">
                <h3>Brinco Luxo</h3>
                <p>Cod: B001 | R$ 89,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Brinco Pérola" data-cod="B002" data-preco="99.90" data-img="https://picsum.photos/400/300?random=7">
                <img src="https://picsum.photos/400/300?random=7" alt="Brinco Pérola">
                <h3>Brinco Pérola</h3>
                <p>Cod: B002 | R$ 99,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Brinco Esmeralda" data-cod="B003" data-preco="129.90" data-img="https://picsum.photos/400/300?random=8">
                <img src="https://picsum.photos/400/300?random=8" alt="Brinco Esmeralda">
                <h3>Brinco Esmeralda</h3>
                <p>Cod: B003 | R$ 129,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Brinco Cristal" data-cod="B004" data-preco="149.90" data-img="https://picsum.photos/400/300?random=9">
                <img src="https://picsum.photos/400/300?random=9" alt="Brinco Cristal">
                <h3>Brinco Cristal</h3>
                <p>Cod: B004 | R$ 149,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Brinco Argola" data-cod="B005" data-preco="79.90" data-img="https://picsum.photos/400/300?random=10">
                <img src="https://picsum.photos/400/300?random=10" alt="Brinco Argola">
                <h3>Brinco Argola</h3>
                <p>Cod: B005 | R$ 79,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Brinco Zircônia" data-cod="B006" data-preco="119.90" data-img="https://picsum.photos/400/300?random=22">
                <img src="https://picsum.photos/400/300?random=22" alt="Brinco Zircônia">
                <h3>Brinco Zircônia</h3>
                <p>Cod: B006 | R$ 119,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
        </div>
    </section>

    <section id="colares" class="categoria">
        <h2>Colares</h2>
        <div class="produtos">
            <div class="produto" data-nome="Colar Luxo" data-cod="C001" data-preco="199.90" data-img="https://picsum.photos/400/300?random=11">
                <img src="https://picsum.photos/400/300?random=11" alt="Colar Luxo">
                <h3>Colar Luxo</h3>
                <p>Cod: C001 | R$ 199,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Colar Pérola" data-cod="C002" data-preco="139.90" data-img="https://picsum.photos/400/300?random=12">
                <img src="https://picsum.photos/400/300?random=12" alt="Colar Pérola">
                <h3>Colar Pérola</h3>
                <p>Cod: C002 | R$ 139,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Colar Esmeralda" data-cod="C003" data-preco="169.90" data-img="https://picsum.photos/400/300?random=13">
                <img src="https://picsum.photos/400/300?random=13" alt="Colar Esmeralda">
                <h3>Colar Esmeralda</h3>
                <p>Cod: C003 | R$ 169,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Colar Diamante" data-cod="C004" data-preco="229.90" data-img="https://picsum.photos/400/300?random=14">
                <img src="https://picsum.photos/400/300?random=14" alt="Colar Diamante">
                <h3>Colar Diamante</h3>
                <p>Cod: C004 | R$ 229,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Colar Coração" data-cod="C005" data-preco="119.90" data-img="https://picsum.photos/400/300?random=15">
                <img src="https://picsum.photos/400/300?random=15" alt="Colar Coração">
                <h3>Colar Coração</h3>
                <p>Cod: C005 | R$ 119,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Colar Riviera" data-cod="C006" data-preco="259.90" data-img="https://picsum.photos/400/300?random=23">
                <img src="https://picsum.photos/400/300?random=23" alt="Colar Riviera">
                <h3>Colar Riviera</h3>
                <p>Cod: C006 | R$ 259,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
        </div>
    </section>

    <section id="pulseiras" class="categoria">
        <h2>Pulseiras</h2>
        <div class="produtos">
            <div class="produto" data-nome="Pulseira Luxo" data-cod="P001" data-preco="149.90" data-img="https://picsum.photos/400/300?random=16">
                <img src="https://picsum.photos/400/300?random=16" alt="Pulseira Luxo">
                <h3>Pulseira Luxo</h3>
                <p>Cod: P001 | R$ 149,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Pulseira Pérola" data-cod="P002" data-preco="99.90" data-img="https://picsum.photos/400/300?random=17">
                <img src="https://picsum.photos/400/300?random=17" alt="Pulseira Pérola">
                <h3>Pulseira Pérola</h3>
                <p>Cod: P002 | R$ 99,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Pulseira Ouro" data-cod="P003" data-preco="189.90" data-img="https://picsum.photos/400/300?random=18">
                <img src="https://picsum.photos/400/300?random=18" alt="Pulseira Ouro">
                <h3>Pulseira Ouro</h3>
                <p>Cod: P003 | R$ 189,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Pulseira Coração" data-cod="P004" data-preco="129.90" data-img="https://picsum.photos/400/300?random=19">
                <img src="https://picsum.photos/400/300?random=19" alt="Pulseira Coração">
                <h3>Pulseira Coração</h3>
                <p>Cod: P004 | R$ 129,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Pulseira Charme" data-cod="P005" data-preco="139.90" data-img="https://picsum.photos/400/300?random=20">
                <img src="https://picsum.photos/400/300?random=20" alt="Pulseira Charme">
                <h3>Pulseira Charme</h3>
                <p>Cod: P005 | R$ 139,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
            <div class="produto" data-nome="Pulseira Elo" data-cod="P006" data-preco="109.90" data-img="https://picsum.photos/400/300?random=24">
                <img src="https://picsum.photos/400/300?random=24" alt="Pulseira Elo">
                <h3>Pulseira Elo</h3>
                <p>Cod: P006 | R$ 109,90</p>
                <button class="btn">Ver Detalhes</button>
            </div>
        </div>
    </section>

    <section id="contato" class="contato">
        <h2>Seu Pedido</h2>
        <p>Fale conosco pelo WhatsApp: <a href="https://wa.me/5585997189301">Clique aqui</a></p>
        <a href="https://wa.me/5585997189301" target="_blank" class="btn btn-whatsapp" id="btn-finalizar-pedido" style="margin-top: 15px; font-size: 1.1rem; padding: 0.7rem 1.5rem;">Finalizar Pedido via WhatsApp (<span id="finalizar-count">0</span>)</a>
    </section>

    <footer>
        <p>&copy; 2025 By CamisBrazil. Todos os direitos reservados.</p>
    </footer>

    <nav class="mobile-tabs">
        <a href="#home" class="mobile-nav-link active">
            <span class="material-icons">home</span>
            Início
        </a>
        <a href="#aneis" class="mobile-nav-link">
            <span class="material-icons">adjust</span>
            Anéis
        </a>
        <a href="#brincos" class="mobile-nav-link">
            <span class="material-icons">fiber_manual_record</span>
            Brincos
        </a>
        <a href="#colares" class="mobile-nav-link">
            <span class="material-icons">hdr_strong</span>
            Colares
        </a>
        <a href="#" id="open-cart-tab" class="mobile-nav-link">
            <span class="material-icons">shopping_cart</span>
            Carrinho
        </a>
    </nav>

    <div class="modal" id="modal">
        <div class="modal-content" id="modal-produto-content">
            <span class="close-btn" id="closeModal">&times;</span>
            <img src="" alt="" id="modal-img">
            <h3 id="modal-nome"></h3>
            <p id="modal-cod"></p>
            <p id="modal-preco"></p>
            <div class="modal-buttons">
                <button class="btn" id="modal-add-carrinho">Adicionar ao Carrinho</button> 
                <a href="https://wa.me/5585997189301" target="_blank" class="btn btn-whatsapp" id="btn-whatsapp-modal">Comprar Apenas Este via WhatsApp</a>
            </div>
        </div>

        <div class="modal-content" id="modal-carrinho-content" style="display:none; max-width: 500px;">
            <span class="close-btn" id="closeCarrinhoModal">&times;</span>
            <h3 style="margin-bottom: 0;">Seu Carrinho</h3>
            <div id="carrinho-items">
                </div>
            <p id="carrinho-total">Total: R$ 0,00</p>
            <div class="modal-buttons" style="margin-top: 15px;">
                <button class="btn" id="limpar-carrinho" style="border-color: #f00; color: #f00;">Limpar Carrinho</button>
                <a href="#" target="_blank" class="btn btn-whatsapp" id="btn-finalizar-carrinho" style="font-size: 1rem;">Finalizar Pedido</a>
            </div>
        </div>
    </div>

    <script>
        // Usei um array global para armazenar os produtos do carrinho
        let carrinho = [];
        const WHATSAPP_NUMBER = "5585997189301"; 

        // Referências de Elementos do DOM (Obtidas no load)
        let produtos, modal, modalProdutoContent, modalCarrinhoContent, modalImg, modalNome, modalCod, modalPreco, closeModal, closeCarrinhoModal, btnWhatsappModal, btnAddCarrinho, cartCount, btnFinalizarPedido, carrinhoItems, carrinhoTotal, btnFinalizarCarrinho, limparCarrinho, openCartTab;
        
        // Função que configura todas as referências do DOM (para ser chamada após o carregamento)
        function setupDOMReferences() {
            try {
                produtos = document.querySelectorAll('.produto');
                modal = document.getElementById('modal');
                modalProdutoContent = document.getElementById('modal-produto-content');
                modalCarrinhoContent = document.getElementById('modal-carrinho-content');
                modalImg = document.getElementById('modal-img');
                modalNome = document.getElementById('modal-nome');
                modalCod = document.getElementById('modal-cod');
                modalPreco = document.getElementById('modal-preco');
                closeModal = document.getElementById('closeModal');
                closeCarrinhoModal = document.getElementById('closeCarrinhoModal');
                btnWhatsappModal = document.getElementById('btn-whatsapp-modal');
                btnAddCarrinho = document.getElementById('modal-add-carrinho');
                cartCount = document.getElementById('cart-count');
                btnFinalizarPedido = document.getElementById('btn-finalizar-pedido');
                carrinhoItems = document.getElementById('carrinho-items');
                carrinhoTotal = document.getElementById('carrinho-total');
                btnFinalizarCarrinho = document.getElementById('btn-finalizar-carrinho');
                limparCarrinho = document.getElementById('limpar-carrinho');
                openCartTab = document.getElementById('open-cart-tab'); 
            } catch (e) {
                console.error("Erro ao configurar referências do DOM:", e);
                // Permite que o código continue mesmo com erro na referência.
            }
        }

        // Funções do Carrinho
        function updateCart() {
            try {
                // 1. Atualiza o contador de itens (Se o elemento existir)
                const totalItems = carrinho.reduce((sum, item) => sum + item.qtd, 0);
                if (cartCount) cartCount.textContent = totalItems;
                if (document.getElementById('finalizar-count')) document.getElementById('finalizar-count').textContent = totalItems;

                // 2. Renderiza a lista de itens no modal do carrinho
                carrinhoItems.innerHTML = '';
                let total = 0;
                
                if (carrinho.length === 0) {
                    carrinhoItems.innerHTML = '<p style="text-align:center; padding: 20px;">O carrinho está vazio.</p>';
                    btnFinalizarCarrinho.style.display = 'none';
                    limparCarrinho.style.display = 'none';
                } else {
                    btnFinalizarCarrinho.style.display = 'inline-block';
                    limparCarrinho.style.display = 'inline-block';
                    
                    carrinho.forEach(item => {
                        const itemTotal = item.preco * item.qtd;
                        total += itemTotal;

                        const itemElement = document.createElement('div');
                        itemElement.className = 'carrinho-item';
                        itemElement.innerHTML = `
                            <span>${item.qtd}x ${item.nome} (Cod: ${item.cod})</span>
                            <span>R$ ${itemTotal.toFixed(2).replace('.', ',')}</span>
                        `;
                        carrinhoItems.appendChild(itemElement);
                    });
                }

                // 3. Atualiza o total
                carrinhoTotal.textContent = `Total: R$ ${total.toFixed(2).replace('.', ',')}`;
                
                // 4. Configura o link de finalização para o WhatsApp, incluindo a URL da imagem de CADA item.
                generateWhatsAppOrder(total);

            } catch (e) {
                console.error("Erro na função updateCart:", e);
                // Se der erro aqui, a lógica do carrinho é desabilitada para evitar travamento.
            }
        }

        function generateWhatsAppOrder(total) {
            let message = "Olá! Gostaria de fazer o seguinte pedido:\n\n";

            if (carrinho.length === 0) {
                message = "Olá! Gostaria de mais informações sobre seus produtos.";
            } else {
                carrinho.forEach((item, index) => {
                    const itemTotal = item.preco * item.qtd;
                    // Adiciona a URL da imagem no final da linha do item
                    message += `${item.qtd}x ${item.nome} (Cod: ${item.cod}) - R$ ${itemTotal.toFixed(2).replace('.', ',')}\nLink da Imagem: ${item.img}\n`;
                    if (index < carrinho.length - 1) {
                         message += "-----\n";
                    }
                });
                message += `\n*Total do Pedido: R$ ${total.toFixed(2).replace('.', ',')}*`;
                message += "\n\nPor favor, me informe o valor e opções de frete. Obrigado(a)!";
            }
            
            // Link de WhatsApp com o NOVO NÚMERO
            const whatsappLink = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(message)}`;
            btnFinalizarCarrinho.href = whatsappLink;
            btnFinalizarPedido.href = whatsappLink; 
        }

        function addItemToCart(item) {
            const existingItem = carrinho.find(p => p.cod === item.cod);
            if (existingItem) {
                existingItem.qtd += 1;
            } else {
                carrinho.push({ ...item, qtd: 1 });
            }
            updateCart();
        }

        function clearCart() {
            carrinho = [];
            updateCart();
            if(closeModal) closeModal.click();
        }

        // --- Event Listeners ---
        function setupEventListeners() {
            // Verifica se as referências principais foram encontradas antes de adicionar listeners
            if (!produtos || produtos.length === 0 || !modal) return; 

            // Botão "Ver Detalhes" -> abre o Modal do PRODUTO
            produtos.forEach(produto => {
                produto.querySelector('.btn').addEventListener('click', e => {
                    e.preventDefault();
                    modal.classList.add('open');
                    modalCarrinhoContent.style.display = 'none';
                    modalProdutoContent.style.display = 'block';

                    produtoSelecionado = {
                        nome: produto.dataset.nome,
                        cod: produto.dataset.cod,
                        preco: parseFloat(produto.dataset.preco),
                        img: produto.dataset.img 
                    };

                    // Preenche o modal do produto
                    modalImg.src = produtoSelecionado.img;
                    modalNome.textContent = produtoSelecionado.nome;
                    modalCod.textContent = "Código: " + produtoSelecionado.cod;
                    modalPreco.textContent = "Preço: R$ " + produtoSelecionado.preco.toFixed(2).replace('.', ',');

                    // Configura o link do WhatsApp para "Comprar Apenas Este" com o NOVO NÚMERO
                    const singleItemMessage = `Olá, quero comprar *apenas* o produto ${produtoSelecionado.nome} (Cod: ${produtoSelecionado.cod}). Link da Imagem: ${produtoSelecionado.img}. Qual o frete?`;
                    btnWhatsappModal.href = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(singleItemMessage)}`;
                });
            });

            // Botão ADICIONAR AO CARRINHO no modal do produto
            if(btnAddCarrinho) btnAddCarrinho.addEventListener('click', () => {
                addItemToCart(produtoSelecionado);
                modal.classList.remove('open');
            });

            // Clique no contador do carrinho (topo) -> abre o Modal do CARRINHO
            if(cartCount) cartCount.addEventListener('click', () => {
                updateCart();
                modal.classList.add('open');
                modalProdutoContent.style.display = 'none';
                modalCarrinhoContent.style.display = 'block';
            });

            // Clique no ícone Carrinho do Menu de Abas Mobile
            if(openCartTab && cartCount) openCartTab.addEventListener('click', (e) => {
                e.preventDefault(); 
                cartCount.click(); 
            });
            
            // Clique no link de finalização de pedido (na seção Contato)
            if(btnFinalizarPedido && cartCount) btnFinalizarPedido.addEventListener('click', (e) => {
                if (carrinho.length === 0) {
                    e.preventDefault();
                    cartCount.click();
                }
            });

            // Botão LIMPAR CARRINHO
            if(limparCarrinho) limparCarrinho.addEventListener('click', clearCart);

            // Fechar Modais
            if(closeModal) closeModal.addEventListener('click', () => {
                modal.classList.remove('open');
            });
            if(closeCarrinhoModal) closeCarrinhoModal.addEventListener('click', () => {
                modal.classList.remove('open');
            });

            modal.addEventListener('click', e => {
                if (e.target === modal) modal.classList.remove('open');
            });
        }
        
        // Inicialização principal
        window.addEventListener('load', () => {
            setupDOMReferences(); 
            setupEventListeners(); 
            updateCart(); 
        });
    </script>
</body>
</html>
